(()=>{"use strict";let e=document.querySelector("#new-todo").children,t=(()=>{let t=e=>{let t=document.createElement("div");t.classList.add("error-message"),t.id="todo-error",t.textContent="Missing value",e.parentNode.insertBefore(t,e),setTimeout((()=>document.querySelector("#todo-error").remove()),2e3)};return{addToDoButton:()=>{document.querySelector("#add-project-button").disabled=!0;let e=document.createElement("div");e.id="new-todo-div";let t=document.createElement("h3");t.textContent="Add To Do:",t.classList.add("small-div-header"),t.id="todo-div-header",e.appendChild(t),["title","description","date","priority"].forEach((t=>{let d=document.createElement("input");var o;d.id=t,d.classList.add("todo-Input"),d.setAttribute("type","text"),d.setAttribute("placeholder",(o=t).charAt(0).toUpperCase()+o.slice(1)),e.appendChild(d)}));let d=document.createElement("button");d.textContent="Add ToDo",d.classList.add("small-div-button"),d.id="create-todo",e.appendChild(d),document.querySelector("#mainpage").appendChild(e)},submitToDo:d=>{if("create-todo"===d.target.id){let d=document.querySelector("#title").value,r=document.querySelector("#title"),i=document.querySelector("#description").value,c=document.querySelector("#date").value,l=document.querySelector("#priority").value;if(""===d||""===i||""===c||""===l)t(r);else{let t=(e,t,d,o)=>({title:e,description:t,date:d,priority:o}),r=document.querySelector(".active").getAttribute("data-id"),a=document.createElement("div");a.classList.add("todo-entry");let u=t(d,i,c,l),s=document.createElement("div");s.textContent=u.title,s.classList.add("mini-div"),s.id="title-todo";let m=document.createElement("div");m.textContent=`Description: ${u.description}`,m.classList.add("mini-div"),m.id="description-todo";let p=document.createElement("div");p.textContent=`Date: ${u.date}`,p.classList.add("mini-div"),p.id="date-todo";let v=document.createElement("div");v.textContent=`Priority: ${u.priority}`,v.classList.add("mini-div"),v.id="priority-todo";let b=document.createElement("button");b.classList.add("del-button"),b.setAttribute("data-id",r),b.id="todo-delete-button",b.textContent="X",a.appendChild(s),a.appendChild(m),a.appendChild(p),a.appendChild(v),a.appendChild(b),(t=>{for(let d=0;d<e.length;d++)if(e[d].dataset.id===t)return!0})(r)&&(o=r,n=a,document.querySelector(`.div-wrapper[data-id="${o}"]`).appendChild(n)),document.querySelector("#new-todo-div").remove(),document.querySelector("#add-project-button").disabled=!1}}var o,n},noValueError:t,deleteToDoBtn:e=>{let t=e.target;"todo-delete-button"===t.id&&t.parentNode.remove()}}})(),d=0,o=0,n=(()=>{let e=e=>{document.querySelector("#add-todo-button").disabled=0===e};return{addProjectButton:()=>{document.querySelector("#add-todo-button").disabled=!0;const e=document.createElement("div");e.id="new-project-div";const t=document.createElement("h3");t.textContent="Project Name:",t.classList.add("small-div-header");const d=document.createElement("input");d.setAttribute("type","text"),d.setAttribute("label","Project Name"),d.setAttribute("placeholder","Project Name"),d.classList.add("text-fields"),d.id="project-name-field";const o=document.createElement("button");o.textContent="Submit Project",o.id="project-submit",o.classList.add("small-div-button"),e.appendChild(t),e.appendChild(d),e.appendChild(o),document.querySelector("#mainpage").appendChild(e)},clickSubmitButton:e=>{let n=e.target,r=document.querySelector("#new-project");if("project-submit"===n.id){let e=document.querySelector("#project-name-field").value,n=document.querySelector("#project-name-field");if(""===e)t.noValueError(n);else{let e=document.querySelector("#project-name-field").value,t=document.createElement("div");t.setAttribute("data-id",`${d}`),t.textContent=e,t.classList.add("project-entry"),r.appendChild(t);let n=document.createElement("div");n.setAttribute("data-id",`${d}`),n.classList.add("div-wrapper"),document.querySelector("#new-todo").appendChild(n);let i=document.createElement("button");i.classList.add("del-button"),i.setAttribute("data-id",`${d}`),i.id="project-del-button",i.textContent="X",t.appendChild(i),document.querySelector("#project-name-field").value="",document.querySelector("#new-project-div").remove(),d++,o++,document.querySelector("#add-todo-button").disabled=!1}}},deleteProjectButton:t=>{let d=t.target;if("project-del-button"===d.id){let t=document.querySelector("#new-todo").children,n=d.getAttribute("data-id");for(let e=0;e<t.length;e++)console.log(n),t[e].dataset.id===n&&t[e].remove();d.parentElement.remove(),o--,e(o)}},selectProject:e=>{let t=e.target,d=document.querySelectorAll(".project-entry");if(t.classList.contains("project-entry")){d.forEach((e=>e.classList.remove("active"))),t.classList.add("active");let e=document.querySelector(".active").getAttribute("data-id"),o=document.querySelector("#new-todo").children;if(o.length>0)for(let t=0;t<o.length;t++)o[t].dataset.id===e&&(document.querySelectorAll(".div-wrapper").forEach((e=>e.classList.remove("active-todo"))),o[t].classList.add("active-todo"))}},disableToDo:e}})();const r=document.querySelector("#add-project-button"),i=document.querySelector("#add-todo-button");n.disableToDo(o),r.addEventListener("click",n.addProjectButton),document.addEventListener("click",n.clickSubmitButton),document.addEventListener("click",n.deleteProjectButton),document.addEventListener("click",n.selectProject),i.addEventListener("click",t.addToDoButton),document.addEventListener("click",t.submitToDo),document.addEventListener("click",t.deleteToDoBtn)})();